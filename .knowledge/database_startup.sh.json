{"is_source_file": true, "format": "bash", "description": "A comprehensive PostgreSQL database setup and initialization script for the QuickEats project. It checks for existing PostgreSQL instances, initializes the database, creates necessary schemas, tables, seed data, and configures user permissions ensuring idempotent operations for setting up the database environment.", "external_files": ["db_connection.txt", "db_visualizer/postgres.env"], "external_methods": ["ls", "cat", "pg_isready", "pgrep", "psql", "initdb", "createdb", "sleep", "echo", "sleep", "tail", "source"], "published": ["DB_NAME", "DB_USER", "DB_PASSWORD", "DB_PORT", "PG_VERSION", "PG_BIN"], "classes": [], "methods": [{"name": "run_psql", "description": "Executes a single SQL statement via psql, using the connection details from db_connection.txt, with error stopping enabled."}, {"name": "ensure_quickeats_schema_and_seed", "description": "Creates the QuickEats schema, tables, seed data, and migration tracking in an idempotent manner if the schema hasn't already been applied."}], "calls": ["ls", "head", "cat", "psql", "run_psql", "sleep", "pg_isready", "pgrep", "initdb", "postgres", "createdb", "psql", "echo", "cat", "exit"], "search-terms": ["quick eats setup", "postgresql initialization", "schema migrations", "docker database setup", "seed data automation"], "state": 2, "file_id": 2, "knowledge_revision": 16, "git_revision": "96b397d23947e1553d18402924da60dce181eba3", "revision_history": [{"11": "810a5f55dad9175063345543e0ecf49a3e2f67fd"}, {"16": "96b397d23947e1553d18402924da60dce181eba3"}], "hash": "7732e121577cf0779f1dc3679877cae4", "format-version": 4, "code-base-name": "database", "filename": "database/startup.sh"}